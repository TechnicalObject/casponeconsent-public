!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e="undefined"!=typeof globalThis?globalThis:e||self).CasponeCMP=o()}(this,function(){"use strict";var e="undefined"!=typeof document?document.currentScript:null;function o(e,o,t){return(o=function(e){var o=function(e,o){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,o);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(e)}(e,"string");return"symbol"==typeof o?o:o+""}(o))in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function t(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function n(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach(function(t){o(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))})}return e}var a={initCasponeCMP:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.gtmId,i=t.gtmUrl,s=void 0===i?"https://www.googletagmanager.com/gtm.js":i,r=t.gtmEnv,c=void 0===r?"":r,d=t.defaultLocale,l=void 0===d?"cs":d,u=t.translationsInput,p=void 0===u?{}:u,m=t.showCloseButton,g=void 0===m||m,f=t.consentRateTracking,v=void 0!==f&&f;if("undefined"!=typeof document&&"undefined"!=typeof window){console.log("Initializing CasponeCMP with:",{gtmId:a,gtmUrl:s,gtmEnv:c});var h="necessary",y="analytics",k="advertisement",b="functionality",C="security",w="ad_storage",j="ad_user_data",S="ad_personalization",L="analytics_storage",_="functionality_storage",z="personalization_storage",T="security_storage",x=document.documentElement.lang.split("-")[0]||"en",P=n(n({},{cs:{consentModal:{title:"Pou≈æ√≠v√°me cookies",description:"Tato str√°nka pou≈æ√≠v√° cookies, kter√© n√°m pom√°haj√≠ ke zkvalit≈àov√°n√≠ obsahu.",acceptAllBtn:"P≈ôijmout v≈°e",acceptNecessaryBtn:"Odm√≠tnout v≈°e",showPreferencesBtn:"Spravovat nastaven√≠",footer:'<a href="#path-to-impressum.html" target="_blank">Impressum</a> <a href="zasady-ochrany-osobnich-udaju" target="_blank">Z√°sady ochrany osobn√≠ch √∫daj≈Ø</a>'},preferencesModal:{title:"Nastaven√≠ cookies",acceptAllBtn:"P≈ôijmout v≈°e",acceptNecessaryBtn:"Odm√≠tnout v≈°e",savePreferencesBtn:"Ulo≈æit nastaven√≠",closeIconLabel:"Zav≈ô√≠t",sections:[{title:"Pou≈æit√≠ cookies üì¢",description:'Pou≈æ√≠v√°me cookies k zaji≈°tƒõn√≠ z√°kladn√≠ch funkc√≠ webu a ke zkvalit≈àov√°n√≠ poskytovan√©ho obsahu. M≈Ø≈æete si vybrat nastaven√≠ pro ka≈ædou kategorii zvl√°≈°≈•. Pro v√≠ce informac√≠ spojen√Ωch s cookies a dal≈°√≠ch citliv√Ωch dat si pros√≠m p≈ôeƒçtƒõte pln√© znƒõn√≠ <a href="zasady-ochrany-osobnich-udaju" class="cc-link">z√°sad ochrany osobn√≠ch √∫daj≈Ø</a>.'},{title:"Nezbytn√© cookies",description:"Tyto cookies jsou nezbytn√© pro spr√°vn√© fungov√°n√≠ webu.",linkedCategory:"necessary",cookieTable:{headers:{name:"N√°zev",domain:"Slu≈æba",description:"Popis",expiration:"Expirace"},body:[{name:"cc_cookie",domain:".".concat(location.hostname),description:"Informace o udƒõlen√Ωch souhlasech",expiration:"365 dn√≠"}]}},{title:"Analytick√© cookies",description:"Tyto cookies slou≈æ√≠ k analyzov√°n√≠ chov√°n√≠ u≈æivatel≈Ø na na≈°em webu.",linkedCategory:"analytics",cookieTable:{headers:{name:"N√°zev",domain:"Slu≈æba",description:"Popis",expiration:"Expirace"},body:[{name:"_ga",domain:"Google Analytics",description:'Cookie nastaven√° <a href="#das">Google Analytics</a>.',expiration:"2 roky"},{name:"_gid",domain:"Google Analytics",description:'Cookie nastaven√° <a href="#das">Google Analytics</a>',expiration:"N√°v≈°tƒõva"}]}},{title:"Marketingov√© cookies",description:"Tyto cookies sb√≠raj√≠ informace o tom, jak pou≈æ√≠v√°te n√°≈° web, kter√© p≈ô√≠spƒõvky jste nav≈°t√≠vili a na jak√© odkazy jste klikli. V≈°echna data jsou anonymizov√°na a nemohou b√Ωt vyu≈æita k identifikaci jednotliv√Ωch u≈æivatel≈Ø.",linkedCategory:"advertisement",cookieTable:{headers:{name:"N√°zev",domain:"Slu≈æba",description:"Popis",expiration:"Expirace"},body:[{name:"_gcl_au",domain:"Partnersk√° dom√©na",description:'Cookie nastaven√° <a href="#das">Google Ads</a>.',expiration:"30 dn√≠"},{name:"NID",domain:"google.com a lok√°ln√≠ varianty, nap≈ô. google.cz",description:'Cookie nastaven√° <a href="#das">Google Ads</a>',expiration:"6 mƒõsic≈Ø"}]}},{title:"Funkƒçnost",description:"Cookies pou≈æ√≠van√© pro funkƒçnost umo≈æ≈àuj√≠ u≈æivatel≈Øm interagovat se slu≈æbou nebo webem a p≈ôistupovat k funkc√≠m, kter√© jsou pro tuto slu≈æbu z√°sadn√≠. Mezi z√°sadn√≠ prvky slu≈æby pat≈ô√≠ nap≈ô√≠klad nastaven√≠ preferenc√≠ jako je volba jazyka u≈æivatele, optimalizace produkt≈Ø, kter√© pom√°haj√≠ udr≈æovat a zlep≈°ovat slu≈æbu, a uchov√°v√°n√≠ informac√≠ o u≈æivatelsk√© relaci, nap≈ô√≠klad obsah n√°kupn√≠ho ko≈°√≠ku.",linkedCategory:"functionality"},{title:"Bezpeƒçnost",description:"Cookies pou≈æ√≠van√© pro bezpeƒçnost autentizuj√≠ u≈æivatele, zabra≈àuj√≠ podvod≈Øm a chr√°n√≠ u≈æivatele p≈ôi interakci se slu≈æbou.",linkedCategory:"security"},{title:"V√≠ce informac√≠",description:'Pro jak√©koli dotazy, t√Ωkaj√≠c√≠ se na≈°ich z√°sad ohlednƒõ cookies, n√°s pros√≠m <a class="cc-link" href="kontakt#contact-form">kontaktujte</a>.'}]}},en:{consentModal:{title:"Consent Modal Title",description:"Consent Modal Description",acceptAllBtn:"Accept all",acceptNecessaryBtn:"Reject all",showPreferencesBtn:"Manage preferences",footer:'<a href="#path-to-impressum.html" target="_blank">Impressum</a> <a href="#path-to-privacy-policy.html" target="_blank">Privacy Policy</a>'},preferencesModal:{title:"Cookie preferences",acceptAllBtn:"Accept all",acceptNecessaryBtn:"Reject all",savePreferencesBtn:"Save preferences",closeIconLabel:"Close",sections:[{title:"Cookie usage",description:"We use cookies to ensure the basic functionalities of the website and to enhance your online experience ..."},{title:"Strictly necessary cookies",description:"These cookies are essential for the proper functioning of my website. Without these cookies, the website would not work properly",linkedCategory:"necessary"},{title:"Performance and Analytics cookies",description:"These cookies allow the website to remember the choices you have made in the past",linkedCategory:"analytics",cookieTable:{headers:{name:"Name",domain:"Domain",description:"Description",expiration:"Expiration"},body:[{name:"_ga",domain:"Google Analytics",description:'Cookie set by <a href="#das">Google Analytics</a>.',expiration:"Expires after 12 days"},{name:"_gid",domain:"Google Analytics",description:'Cookie set by <a href="#das">Google Analytics</a>',expiration:"Session"}]}},{title:"Advertisement and Targeting cookies",description:"These cookies collect information about how you use the website, which pages you visited and which links you clicked on. All of the data is anonymized and cannot be used to identify you",linkedCategory:"advertisement",cookieTable:{headers:{name:"Name",domain:"Domain",description:"Description",expiration:"Expiration"},body:[{name:"_gcl_au",domain:"Partner domains",description:'Cookie set by <a href="#das">Google Ads</a>.',expiration:"30 days"},{name:"NID",domain:"google.com a local variants, e.g. google.de",description:'Cookie set by <a href="#das">Google Ads</a>',expiration:"6 months"}]}},{title:"Functionality",description:"Cookies used for functionality allow users to interact with a service or site to access features that are fundamental to that service. Things considered fundamental to the service include preferences like the user's choice of language, product optimizations that help maintain and improve a service, and maintaining information relating to a user's session, such as the content of a shopping cart.",linkedCategory:"functionality"},{title:"Security",description:"Cookies used for security authenticate users, prevent fraud, and protect users as they interact with a service.",linkedCategory:"security"},{title:"More information",description:'For any queries in relation to our policy on cookies and your choices, please <a class="cc-link" href="#yourdomain.com">contact us</a>.'}]}}}),p),M=o(o(o(o({},L,{en:"Enables storage (such as cookies) related to analytics e.g. visit duration.",cs:"Umo≈æ≈àuje ukl√°d√°n√≠ (nap≈ô. cookies) souvisej√≠c√≠ s anal√Ωzou, nap≈ô. doba n√°v≈°tƒõvy."}),w,{en:"Enables storage (such as cookies) related to advertising.",cs:"Umo≈æ≈àuje ukl√°d√°n√≠ (nap≈ô. cookies) souvisej√≠c√≠ s reklamou."}),j,{en:"Sets consent for sending user data related to advertising to Google.",cs:"Nastavuje souhlas se zas√≠l√°n√≠m √∫daj≈Ø o u≈æivatelsk√Ωch datech souvisej√≠c√≠ch s reklamou spoleƒçnosti Google."}),S,{en:"Sets consent for personalized advertising.",cs:"Nastavuje souhlas pro personalizovanou reklamu."});console.log("serviceTranslation",M),window.dataLayer=window.dataLayer||[];var E=document.createElement("link");E.rel="stylesheet",E.href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.1.0/dist/cookieconsent.css",document.head.appendChild(E);var B=document.createElement("script");B.src="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.1.0/dist/cookieconsent.umd.js",B.type="text/javascript",B.async=!0,document.head.appendChild(B);var N=new URL("undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("casponeconsent.umd.js",document.baseURI).href).href||"latest";console.debug(new URL("undefined"==typeof document&&"undefined"==typeof location?require("url").pathToFileURL(__filename).href:"undefined"==typeof document?location.href:e&&"SCRIPT"===e.tagName.toUpperCase()&&e.src||new URL("casponeconsent.umd.js",document.baseURI).href).href);var O=N.split("@").slice(-1)[0].split("/")[0],A=/\d+\.\d+\.\d+/g.test(O)?O:"latest";console.debug("currentTag:",A),Z("consent","default",o(o(o(o(o(o(o(o(o({},w,"denied"),j,"denied"),S,"denied"),L,"denied"),_,"denied"),z,"denied"),T,"denied"),"wait_for_update",500),"region",["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","CH","GB"])),Z("consent","default",o(o(o(o(o(o(o(o({},w,"denied"),j,"denied"),S,"denied"),L,"denied"),_,"denied"),z,"denied"),T,"denied"),"wait_for_update",500)),window.gtmURL&&(s=window.gtmURL),window.gtmId&&(a=window.gtmId),window.gtmEnv&&(c=window.gtmEnv);var I=window.location.host.match(/(test|stg|stage|staging)\./g);if(console.debug("isStaging",I),a){var R=function(e){if(/^https?:\/\/.+/.test(e))return e;var o=e.startsWith("/")?e:"/"+e;return o=o.replace(/\/+$/,""),/\.[a-zA-Z0-9]+$/.test(o)&&console.warn("GTM path should be a directory path, not a filename. Received: '".concat(e,"'. Expected format: '/path/to/directory'")),o+"/gtm.js"}(s),G=I&&c||"";!function(e,o,t,n,a){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=o.getElementsByTagName(t)[0],s=o.createElement(t);s.async=!0,s.src=R+"?id="+a+G,i.parentNode.insertBefore(s,i)}(window,document,"script","dataLayer",a)}else console.warn("GTM ID is not set, GTM will not be initialized.");var D,U='\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">\n            <rect width="256" height="256" fill="none"/>\n            <circle cx="156" cy="172" r="12"/>\n            <circle cx="92" cy="164" r="12"/>\n            <circle cx="84" cy="108" r="12"/>\n            <circle cx="132" cy="124" r="12"/>\n            <path d="M224,128a48,48,0,0,1-48-48,48,48,0,0,1-48-48,96,96,0,1,0,96,96Z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="16"/>\n            </svg>\n        ';(D=document.createElement("div")).classList.add("floating-button"),D.id="cookieButton",D.innerHTML=U,D.classList.add("floating-button-hidden"),"loading"===document.readyState?(console.debug("document still loading, appending cookie button"),document.addEventListener("DOMContentLoaded",function e(){document.body.appendChild(D),document.removeEventListener("DOMContentLoaded",e)})):(console.debug("document already loaded, appending cookie button"),document.body.appendChild(D)),D.addEventListener("click",function(){D.classList.contains("is-flipped")?CookieConsent.hidePreferences():CookieConsent.showPreferences()});var q={cookie:{name:"cc_cookie",expiresAfterDays:365},guiOptions:{consentModal:{layout:"cloud inline",position:"bottom center",equalWeightButtons:!0,flipButtons:!1},preferencesModal:{layout:"box",equalWeightButtons:!0,flipButtons:!1}},onFirstConsent:function(e){var o=e.cookie;console.debug("onFirstConsent fired",o),F("first_consent",H())},onConsent:function(e){var o=e.cookie;console.debug("onConsent fired!",o.categories),D.classList.remove("floating-button-hidden"),V()},onChange:function(e){e.cookie;var o=e.changedCategories,t=e.changedServices;console.debug("onChange fired!",o,t),V(),F("update_consent",H())},onModalReady:function(e){var o=e.modalName;if(console.debug("ready:",o),document.cookie.includes("cc_cookie=")||F("banner_displayed",H()),"consentModal"===o&&g){var t=document.querySelector("#cc-main");t&&t.classList.add("has-close-button"),K()}},onModalShow:function(e){var o=e.modalName;if(console.debug("visible:",o),"consentModal"===o&&(D.classList.add("floating-button-hidden"),g)){var t=document.querySelector("#cc-main");t&&t.classList.add("has-close-button"),setTimeout(function(){return K()},50)}D.classList.add("is-flipped"),D.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256">\n            <rect width="256" height="256" fill="none"/>\n            <line x1="80" y1="80" x2="176" y2="176" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"/>\n            <line x1="80" y1="176" x2="176" y2="80" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"/>\n            </svg>\n        '},onModalHide:function(e){var o=e.modalName;console.debug("hidden:",o),"consentModal"===o&&D.classList.remove("floating-button-hidden"),D.classList.remove("is-flipped"),D.innerHTML=U},categories:o(o(o(o(o({},h,{enabled:!0,readOnly:!0}),y,{autoClear:{cookies:[{name:/^_ga/},{name:"_gid"}]},services:o({},L,{label:"Enables storage (such as cookies) related to analytics e.g. visit duration."})}),k,{services:o(o(o({},w,{label:"Enables storage (such as cookies) related to advertising."}),j,{label:"Sets consent for sending user data related to advertising to Google."}),S,{label:"Sets consent for personalized advertising."})}),b,{services:o(o({},_,{label:"Enables storage that supports the functionality of the website or app e.g. language settings."}),z,{label:"Enables storage related to personalization e.g. video recommendations."})}),C,{services:o({},T,{label:"Enables storage related to security such as authentication functionality, fraud prevention, and other user protection."})}),language:{autoDetect:"document",default:[l],translations:P}};try{window.CookieConsent?W(x,q):B.onload=function(){console.debug("CookieConsent script loaded"),W(x,q)}}catch(e){console.error(e),W(x,q)}}else console.error("initCasponeCMP can only run in a browser environment.");function F(e,o){if(v){window.dataLayer=window.dataLayer||[];var t;fetch("https://consent-rate-tool.casp.one/api/consent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:"".concat(Date.now(),".").concat(Math.floor((t=1e6,8999999*Math.random()+t))),action_type:e,consent_type:o})}).then(function(e){e.ok||(console.warn("Consent tracking failed:",e.status),dataLayer.push({event:"error",error_type:"consent_tracking_failed",error_message:"Status ".concat(e.status)}))}).catch(function(e){console.warn("Consent tracking error:",e),dataLayer.push({event:"error",error_type:"consent_tracking_error",error:e.toString()})})}}function H(){return(CookieConsent.acceptedService(L,y)?"1":"0")+(CookieConsent.acceptedService(w,k)?"1":"0")+(CookieConsent.acceptedService(S,k)?"1":"0")+(CookieConsent.acceptedService(j,k)?"1":"0")}function W(e,o){console.debug("consentRun"),o.language.default=[e],o.categories[y].services[L].label=M[L][e],o.categories[k].services[w].label=M[w][e],o.categories[k].services[j].label=M[j][e],o.categories[k].services[S].label=M[S][e],CookieConsent.run(o)}function Z(){dataLayer.push(arguments)}function V(){Z("consent","update",o(o(o(o(o(o(o({},L,CookieConsent.acceptedService(L,y)?"granted":"denied"),w,CookieConsent.acceptedService(w,k)?"granted":"denied"),j,CookieConsent.acceptedService(j,k)?"granted":"denied"),S,CookieConsent.acceptedService(S,k)?"granted":"denied"),_,CookieConsent.acceptedService(_,b)?"granted":"denied"),z,CookieConsent.acceptedService(z,b)?"granted":"denied"),T,CookieConsent.acceptedService(T,C)?"granted":"denied")),dataLayer.push({event:"consent_ready"})}function K(){var e=document.querySelector("#cc-main .cm")||document.querySelector("#cc-main")||document.querySelector(".cm")||document.querySelector('[data-cc="c-inr"]');if(console.debug("addCloseButtonToConsentModal - modal found:",!!e),console.debug("Modal element:",e),e)if(e.querySelector(".consent-modal-close-btn"))console.debug("Close button already exists");else{var o=document.createElement("button");o.className="consent-modal-close-btn",o.setAttribute("aria-label","Close"),o.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">\n                <path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n        ',o.addEventListener("click",function(){console.debug("Close button clicked"),CookieConsent.hide(),CookieConsent.acceptCategory([h]),F("no_interaction",H())}),e.appendChild(o),console.debug("Close button added to modal")}else console.warn("Consent modal not found")}}};return a});
//# sourceMappingURL=casponeconsent.umd.js.map
